import test from '../testFunctions';

describe('isTaxID', () => {
  // EU-UK valid numbers sourced from https://ec.europa.eu/taxation_customs/tin/specs/FS-TIN%20Algorithms-Public.docx or constructed by @tplessas.
  it('should validate taxID', () => {
    test({
      validator: 'isTaxID',
      args: ['bg-BG'],
      valid: [
        '7501010010',
        '0101010012',
        '0111010010',
        '7521010014',
        '7541010019',
      ],
      invalid: [
        '750101001',
        '75010100101',
        '75-01010/01 0',
        '7521320010',
        '7501010019',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['cs-CZ'],
      valid: [
        '530121999',
        '530121/999',
        '530121/9990',
        '5301219990',
        '1602295134',
        '5451219994',
        '0424175466',
        '0532175468',
        '7159079940',
      ],
      invalid: [
        '53-0121 999',
        '530121000',
        '960121999',
        '0124175466',
        '0472301754',
        '1975116400',
        '7159079945',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['de-AT'],
      valid: ['931736581', '93-173/6581', '93--173/6581'],
      invalid: ['999999999', '93 173 6581', '93-173/65811', '93-173/658'],
    });
    test({
      validator: 'isTaxID',
      args: ['de-DE'],
      valid: [
        '26954371827',
        '86095742719',
        '65929970489',
        '79608434120',
        '659/299/7048/9',
      ],
      invalid: [
        '26954371828',
        '86095752719',
        '8609575271',
        '860957527190',
        '65299970489',
        '65999970489',
        '6592997048-9',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['dk-DK'],
      valid: [
        '010111-1113',
        '0101110117',
        '2110084008',
        '2110489008',
        '2110595002',
        '2110197007',
        '0101110117',
        '0101110230',
      ],
      invalid: [
        '010111/1113',
        '010111111',
        '01011111133',
        '2110485008',
        '2902034000',
        '0101110630',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['el-CY'],
      valid: ['00123123T', '99652156X'],
      invalid: [
        '99652156A',
        '00124123T',
        '00123123',
        '001123123T',
        '00 12-3123/T',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['el-GR'],
      valid: ['758426713', '032792320', '054100004'],
      invalid: [
        '054100005',
        '05410000',
        '0541000055',
        '05 4100005',
        '05-410/0005',
        '658426713',
        '558426713',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['en-CA'],
      valid: [
        '000000000',
        '521719666',
        '469317481',
        '120217450',
        '480534858',
        '325268597',
        '336475660',
        '744797853',
        '130692544',
        '046454286',
      ],
      invalid: [
        '        ',
        'any value',
        '012345678',
        '111111111',
        '999999999',
        '657449110',
        '74 47 978 53',
        '744 797 853',
        '744-797-853',
        '981062432',
        '267500713',
        '2675o0713',
        '70597312',
        '7058973122',
        '069437151',
        '046454281',
        '146452286',
        '30x92544',
        '30692544',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['en-GB'],
      valid: ['1234567890', 'AA123456A', 'AA123456 '],
      invalid: [
        'GB123456A',
        '123456789',
        '12345678901',
        'NK123456A',
        'TN123456A',
        'ZZ123456A',
        'GB123456Z',
        'DM123456A',
        'AO123456A',
        'GB-123456A',
        'GB 123456 A',
        'GB123456  ',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['en-IE'],
      valid: ['1234567T', '1234567TW', '1234577W', '1234577WW', '1234577IA'],
      invalid: ['1234567', '1234577WWW', '1234577A', '1234577JA'],
    });
    test({
      validator: 'isTaxID',
      args: ['en-US'],
      valid: [
        '01-1234567',
        '01 1234567',
        '011234567',
        '10-1234567',
        '02-1234567',
        '67-1234567',
        '15-1234567',
        '31-1234567',
        '99-1234567',
      ],
      invalid: [
        '0-11234567',
        '01#1234567',
        '01  1234567',
        '01 1234 567',
        '07-1234567',
        '28-1234567',
        '96-1234567',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['es-AR'],
      valid: [
        '20271633638',
        '23274986069',
        '27333234519',
        '30678561165',
        '33693450239',
        '30534868460',
        '23111111129',
        '34557619099',
      ],
      invalid: [
        '20-27163363-8',
        '20.27163363.8',
        '33693450231',
        '69345023',
        '693450233123123',
        '3369ew50231',
        '34557619095',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['es-ES'],
      valid: [
        '00054237A',
        '54237A',
        'X1234567L',
        'Z1234567R',
        'M2812345C',
        'Y2812345B',
      ],
      invalid: ['M2812345CR', 'A2812345C', '0/005 423-7A', '00054237U'],
    });
    test({
      validator: 'isTaxID',
      args: ['et-EE'],
      valid: ['10001010080', '46304280206', '37102250382', '32708101201'],
      invalid: [
        '46304280205',
        '61002293333',
        '4-6304 28/0206',
        '4630428020',
        '463042802066',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['fi-FI'],
      valid: ['131052-308T', '131002+308W', '131019A3089'],
      invalid: [
        '131052308T',
        '131052-308TT',
        '131052S308T',
        '13 1052-308/T',
        '290219A1111',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['fr-BE'],
      valid: ['00012511119'],
    });
    test({
      validator: 'isTaxID',
      args: ['fr-FR'],
      valid: ['30 23 217 600 053', '3023217600053'],
      invalid: [
        '30 2 3 217 600 053',
        '3 023217-600/053',
        '3023217600052',
        '3023217500053',
        '30232176000534',
        '302321760005',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['nl-BE'],
      valid: ['00012511148', '00/0125-11148', '00000011115'],
      invalid: [
        '00 01 2511148',
        '01022911148',
        '00013211148',
        '0001251114',
        '000125111480',
        '00012511149',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['fr-LU'],
      valid: ['1893120105732'],
      invalid: [
        '189312010573',
        '18931201057322',
        '1893 12-01057/32',
        '1893120105742',
        '1893120105733',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['lb-LU'],
      invalid: ['2016023005732'],
    });
    test({
      validator: 'isTaxID',
      args: ['hr-HR'],
      valid: ['94577403194'],
      invalid: [
        '94 57-7403/194',
        '9457740319',
        '945774031945',
        '94577403197',
        '94587403194',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['hu-HU'],
      valid: ['8071592153'],
      invalid: [
        '80 71-592/153',
        '80715921534',
        '807159215',
        '8071592152',
        '8071582153',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['lt-LT'],
      valid: ['33309240064'],
    });
    test({
      validator: 'isTaxID',
      args: ['it-IT'],
      valid: ['DMLPRY77D15H501F', 'AXXFAXTTD41H501D'],
      invalid: [
        'DML PRY/77D15H501-F',
        'DMLPRY77D15H501',
        'DMLPRY77D15H501FF',
        'AAPPRY77D15H501F',
        'DMLAXA77D15H501F',
        'AXXFAX90A01Z001F',
        'DMLPRY77B29H501F',
        'AXXFAX3TD41H501E',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['lv-LV'],
      valid: ['01011012344', '32579461005', '01019902341', '325794-61005'],
      invalid: ['010110123444', '0101101234', '01001612345', '290217-22343'],
    });
    test({
      validator: 'isTaxID',
      args: ['mt-MT'],
      valid: ['1234567A', '882345608', '34581M', '199Z'],
      invalid: [
        '812345608',
        '88234560',
        '8823456088',
        '11234567A',
        '12/34-567 A',
        '88 23-456/08',
        '1234560A',
        '0000000M',
        '3200100G',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['nl-NL'],
      valid: ['174559434'],
      invalid: ['17455943', '1745594344', '17 455-94/34'],
    });
    test({
      validator: 'isTaxID',
      args: ['pl-PL'],
      valid: [
        '2234567895',
        '02070803628',
        '02870803622',
        '02670803626',
        '01510813623',
      ],
      invalid: [
        '020708036285',
        '223456789',
        '22 345-678/95',
        '02 070-8036/28',
        '2234567855',
        '02223013623',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['pt-BR'],
      valid: ['35161990910', '74407265027', '05423994000172', '11867044000130'],
      invalid: [
        'ABCDEFGH',
        '170.691.440-72',
        '11494282142',
        '74405265037',
        '11111111111',
        '48469799384',
        '94.592.973/0001-82',
        '28592361000192',
        '11111111111111',
        '111111111111112',
        '61938188550993',
        '82168365502729',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['pt-PT'],
      valid: ['299999998', '299992020'],
      invalid: ['2999999988', '29999999', '29 999-999/8'],
    });
    test({
      validator: 'isTaxID',
      args: ['ro-RO'],
      valid: [
        '8001011234563',
        '9000123456789',
        '1001011234560',
        '3001011234564',
        '5001011234568',
      ],
      invalid: [
        '5001011234569',
        '500 1011-234/568',
        '500101123456',
        '50010112345688',
        '5001011504568',
        '8000230234563',
        '6000230234563',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['sk-SK'],
      valid: [
        '530121999',
        '536221/999',
        '031121999',
        '520229999',
        '1234567890',
      ],
      invalid: [
        '53012199999',
        '990101999',
        '530121000',
        '53012199',
        '53-0121 999',
        '535229999',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['sl-SI'],
      valid: ['15012557', '15012590'],
      invalid: ['150125577', '1501255', '15 01-255/7'],
    });
    test({
      validator: 'isTaxID',
      args: ['sv-SE'],
      valid: [
        '640823-3234',
        '640883-3231',
        '6408833231',
        '19640823-3233',
        '196408233233',
        '19640883-3230',
        '200228+5266',
        '20180101-5581',
      ],
      invalid: [
        '640823+3234',
        '160230-3231',
        '160260-3231',
        '160260-323',
        '160260323',
        '640823+323',
        '640823323',
        '640823+32344',
        '64082332344',
        '19640823-32333',
        '1964082332333',
      ],
    });
    test({
      validator: 'isTaxID',
      args: ['uk-UA'],
      valid: ['3006321856', '3003102490', '2164212906'],
      invalid: ['2565975632', '256597563287', 'ะะก00123456', '2896235845'],
    });
    test({
      validator: 'isTaxID',
      valid: ['01-1234567'],
    });
    test({
      validator: 'isTaxID',
      args: ['is-NOT'],
      error: [
        '01-1234567',
        '01 1234567',
        '011234567',
        '0-11234567',
        '01#1234567',
        '01  1234567',
        '01 1234 567',
        '07-1234567',
        '28-1234567',
        '96-1234567',
      ],
    });
  });
});
